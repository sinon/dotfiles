[user]
	email = {{ .email }}
	name = {{ .name }}
{{- if and (index . "signingkey") .signingkey }}
	signingkey = {{ .signingkey }}
[commit]
	gpgsign = true
{{- end }}

{{- if and (index . "signingkey") .signingkey }}
[gpg]
	program = gpg
{{- end }}

[init]
	defaultBranch = main

[core]
	pager = delta
	excludesFile = ~/.gitignore

[column]
	ui = auto

[branch]
	sort = -committerdate

[tag]
	sort = version:refname

[interactive]
	diffFilter = delta --color-only

[delta]
	navigate = true
	dark = true

[merge]
	conflictstyle = zdiff3

[diff]
	algorithm = histogram
	colorMoved = plain
	mnemonicPrefix = true
	renames = true
	tool = difftastic

[difftool]
	prompt = false

[difftool "difftastic"]
	cmd = difft "$LOCAL" "$REMOTE"

[pager]
	difftool = true

# `git dft` is less to type than `git difftool`.
[alias]
	dft = difftool

# `git dlog` to show `git log -p` with difftastic.
[alias]
	dlog = "!f() { GIT_EXTERNAL_DIFF=difft git log -p --ext-diff; }; f"
	st = status
